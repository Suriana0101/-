<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Hyunjin Popup Love + –ú—É–∑—ã–∫–∞</title>
  <style>
    /* ... styles unchanged ... */
  </style>
</head>
<body>

  <button class="open-btn" onclick="openPopup()">–ü–æ–∫–∞–∑–∞—Ç—å –•–µ–Ω–¥–∂–∏–Ω–∞ üí´</button>

  <!-- Add the audio element for your local music file. Controls are hidden. -->
  <audio id="popupMusic" src="ice-cream.mp3"></audio>

  <div class="popup-bg" id="popupBg">
    <div class="popup" onclick="event.stopPropagation()">
      <h2>–ù–∞—à —Å–∏—è—é—â–∏–π –•–µ–Ω–¥–∂–∏–Ω ‚ú®</h2>
      <div style="position: relative;">
        <img src="https://i.pinimg.com/1200x/81/fb/fa/81fbfa7c056509375f2ea7a2a8298a5a.jpg" alt="Hyunjin">
        <div id="hearts-container"></div>
      </div>
      <br>
      <button class="close-btn" onclick="closePopup()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script>
    function openPopup() {
      document.getElementById('popupBg').classList.add('active');
      generateHearts();
      playMusic();
    }

    function closePopup() {
      document.getElementById('popupBg').classList.remove('active');
      clearHearts();
      stopMusic();
    }

    // Play music
    function playMusic() {
      var audio = document.getElementById("popupMusic");
      audio.currentTime = 0; // start from beginning
      audio.play();
    }

    // Stop music
    function stopMusic() {
      var audio = document.getElementById("popupMusic");
      audio.pause();
      audio.currentTime = 0;
    }

    // Optional: Animated hearts inside popup
    function generateHearts() {
      const heartsContainer = document.getElementById('hearts-container');
      clearHearts();
      for (let i = 0; i < 10; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.style.left = (Math.random() * 80) + '%';
        heart.style.top = (Math.random() * 40) + '%';
        heartsContainer.appendChild(heart);
      }
    }

    function clearHearts() {
      const heartsContainer = document.getElementById('hearts-container');
      heartsContainer.innerHTML = '';
    }

    // Optional: Close popup when ESC is pressed
    document.addEventListener('keydown', function(e) {
      if (e.key === "Escape") closePopup();
    });

    // Optional: Clicking outside the popup closes it
    document.getElementById('popupBg').addEventListener('click', closePopup);

    // Prevent popup itself from closing when clicked
    document.querySelector('.popup').addEventListener('click', function(e) {
      e.stopPropagation();
    });
  </script>
</body>
</html>
